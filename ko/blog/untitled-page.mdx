---
title: "Auth0 SSO 개념 정리"
description: "Auth0의 Single Sign-On 동작 방식과 Universal Login, Custom Domain 설정에 대한 개념 가이드"
---

## SSO (Single Sign-On) 개념

**SSO**는 한 번의 로그인으로 여러 애플리케이션에 자동으로 인증되는 사용자 경험입니다.

```
예시:
Gmail 로그인 → YouTube, Google Drive 자동 로그인
```

<Note>
SSO는 **결과/경험**이지 특정 구현 방식이 아닙니다. OAuth, SAML, OIDC 등 다양한 프로토콜로 SSO를 구현할 수 있습니다.
</Note>

---

## Auth0의 로그인 방식

### Universal Login vs Classic Login

Auth0는 호스팅 로그인 페이지를 두 가지 방식으로 제공합니다.

| 구분 | Universal Login (권장) | Classic Login |
|------|------------------------|---------------|
| 커스터마이징 | No-code 에디터, 템플릿 | JavaScript (Lock.js) |
| 최신 기능 | Passkeys, WebAuthn, Organizations 지원 | ❌ 미지원 |
| 업데이트 | 지속적 업데이트 | 더 이상 업데이트 없음 |
| 접근성 | WCAG 준수 | ❌ 미지원 |

<Info>
**둘 다 Auth0가 호스팅하는 로그인 페이지입니다 (Hosted Login)**

Embedded Login(앱 내장)은 Universal Login과 별개의 개념입니다.
</Info>

### Universal Login (권장)

Auth0가 호스팅하는 중앙 집중식 로그인 페이지를 사용하는 방식입니다.

```
myapp.com 접속
→ login.auth0.com 리다이렉트 (Auth0 호스팅 UI)
→ 로그인 성공
→ myapp.com으로 돌아옴
```

**특징:**
- Auth0가 로그인 UI 제공
- 중앙 집중식 인증
- MFA, 소셜 로그인 자동 지원
- OIDC/OAuth 2.0 프로토콜 사용

<AccordionGroup>
  <Accordion title="장점">
    - 보안 업데이트 자동 적용
    - 로그인 UI 개발 불필요
    - 외부 IdP 연동 용이
    - Passkeys, WebAuthn 등 최신 인증 방식 지원
    - Organizations 기능으로 B2B 멀티테넌시 지원
  </Accordion>
  <Accordion title="단점">
    - 매번 리다이렉트 필요
    - UI 커스터마이징 제한
    - Auth0 의존성
  </Accordion>
</AccordionGroup>

### Embedded Login (비권장)

자체 로그인 UI를 구현하고 Auth0 API만 사용하는 방식입니다.

```
myapp.com에 직접 로그인 폼 구현
→ 사용자가 myapp.com에서 ID/PW 입력
→ Auth0 API로 인증 (백엔드만 사용)
```

**특징:**
- 자체 로그인 UI 구현
- Auth0 백엔드 API만 사용
- Cross-Site 문제 발생 가능

<Warning>
Embedded Login을 사용하려면 다음이 필수입니다:
1. CORS 설정
2. **Custom Domain** (Third-party cookie 문제 해결)
</Warning>

---

## Cross-Origin vs Cross-Site

브라우저 보안 정책을 이해하려면 두 개념의 차이를 알아야 합니다.

### Cross-Origin (CORS 관점)

프로토콜, 도메인, 포트 중 **하나라도 다르면** Cross-Origin입니다.

| 출발지 | 목적지 | 결과 |
|--------|--------|------|
| `app.example.com` | `auth.example.com` | Cross-Origin (서브도메인 다름) |
| `myapp.com` | `auth0.com` | Cross-Origin (도메인 다름) |
| `localhost:3000` | `localhost:8080` | Cross-Origin (포트 다름) |

### Cross-Site (쿠키 관점)

**루트 도메인이 완전히 다를 때** Cross-Site입니다.

<Tabs>
  <Tab title="Same-Site (쿠키 공유 가능)">
    ```
    app.example.com → auth.example.com

    → 같은 루트 도메인 (.example.com)
    → Domain=.example.com 쿠키 공유 가능
    ```
  </Tab>
  <Tab title="Cross-Site (Third-party cookie)">
    ```
    myapp.com → auth0.com

    → 완전히 다른 도메인
    → 브라우저가 Third-party cookie 차단
    ```
  </Tab>
</Tabs>

---

## Custom Domain 설정

### 문제 상황

Embedded Login 사용 시 Cross-Site 문제가 발생합니다.

```
앱 도메인: myapp.com
Auth0 기본: tenant.auth0.com

myapp.com → tenant.auth0.com API 호출
→ Cross-Site
→ Third-party cookie 차단
→ 인증 실패
```

### Custom Domain으로 해결

Auth0에 Custom Domain을 설정하면 Same-Site로 만들 수 있습니다.

```
Auth0 Custom Domain: login.myapp.com

myapp.com → login.myapp.com
→ Same-Site (같은 .myapp.com)
→ Third-party cookie 문제 해결
```

### 설정 방법

<Steps>
  <Step title="Auth0 Custom Domain 활성화">
    Auth0 Dashboard에서 Custom Domain 기능을 활성화합니다.
  </Step>
  <Step title="DNS CNAME 레코드 추가">
    ```
    login.myapp.com → xxx.auth0.com
    ```
  </Step>
  <Step title="SSL 인증서 설정">
    Auth0에서 제공하는 인증서를 사용하거나 자체 인증서를 설정합니다.
  </Step>
</Steps>

---

## Auth0 SSO 동작 방식

### Universal Login SSO 흐름

<Steps>
  <Step title="첫 번째 앱 로그인">
    ```
    app1.myapp.com 접속
    → login.auth0.com 리다이렉트
    → 로그인 성공
    → SSO 세션 쿠키 저장 (login.auth0.com 도메인)
    → Access Token + Refresh Token 받음
    → app1.myapp.com 돌아옴
    ```
  </Step>
  <Step title="두 번째 앱 접속 (자동 로그인)">
    ```
    app2.myapp.com 접속
    → login.auth0.com 리다이렉트
    → SSO 세션 쿠키 확인 (이미 로그인됨!)
    → 자동으로 토큰 발급 (로그인 UI 생략)
    → app2.myapp.com 돌아옴
    ```
  </Step>
</Steps>

### 핵심 포인트

<CardGroup cols={2}>
  <Card title="SSO 세션 쿠키" icon="cookie">
    Auth0 도메인(login.auth0.com)에 저장되어 여러 앱 간 공유됩니다.
  </Card>
  <Card title="토큰" icon="key">
    Access Token과 Refresh Token은 각 앱에서 개별 관리합니다.
  </Card>
</CardGroup>

---

## SSO 유형별 비교

Auth0에서 제공하는 다양한 로그인/SSO 방식을 비교합니다.

### 로그인 방식 비교표

| 방식 | 용도 | 세션 공유 |
|------|------|----------|
| **일반 SSO** | 내 앱들끼리 연동 (도메인 상관없음) | ✅ |
| **Enterprise SSO** | B2B 고객사가 자사 IdP로 로그인 | ✅ |
| **IdP-Initiated SSO** | 외부 IdP에서 인증 시작 | ✅ |
| **Social Login** | 외부 사용자가 Google, Facebook 등으로 가입 | ❌ (별도 세션) |

### 일반 SSO

**내가 운영하는 여러 앱들** 간에 로그인 상태를 공유합니다.

<Tabs>
  <Tab title="작동 원리">
    1. `app1.example.com`에서 로그인 → Auth0 도메인으로 리다이렉트
    2. **Auth0 도메인에 SSO 쿠키 저장**
    3. `app2.another.com` 접속 → 같은 Auth0로 리다이렉트
    4. Auth0가 SSO 쿠키 확인 → 자동 로그인
  </Tab>
  <Tab title="핵심 포인트">
    앱들끼리 쿠키를 직접 공유하는 것이 아니라, **Auth0가 중앙에서 세션을 관리**합니다.

    따라서 앱들의 도메인이 서로 달라도 SSO가 동작합니다.
  </Tab>
</Tabs>

### Enterprise SSO

**B2B 고객사**가 자신들의 IdP(Okta, Azure AD 등)로 직원들을 인증할 수 있게 합니다.

<CardGroup cols={2}>
  <Card title="사용 사례" icon="building">
    - SaaS 제품을 기업에 판매할 때
    - 고객사 IT팀이 자체 사용자 관리를 원할 때
    - SAML, OIDC 연동이 필요할 때
  </Card>
  <Card title="특징" icon="plug">
    - 고객사별로 다른 IdP 연동 가능
    - Auth0 Organizations 기능과 함께 사용
    - 사용자는 회사 계정으로 로그인
  </Card>
</CardGroup>

### IdP-Initiated SSO

외부 IdP에서 먼저 인증을 시작하는 방식입니다.

<Warning>
**보안 주의사항**

IdP-Initiated SSO는 CSRF 공격에 취약할 수 있습니다. 가능하면 SP-Initiated SSO (일반적인 방식)를 사용하세요.
</Warning>

### Social Login

Google, Facebook, Apple 등 소셜 제공자를 통한 로그인입니다.

<Info>
**SSO와의 차이점**

Social Login은 **외부 일반 사용자**가 편리하게 가입하도록 하는 것이 목적입니다. 내 앱들 간의 세션 공유(SSO)와는 다른 개념입니다.
</Info>

### 언제 어떤 방식을 사용할까?

| 상황 | 추천 방식 |
|------|----------|
| 내 앱들끼리 연동 (서브도메인/외부 도메인 모두) | **일반 SSO** |
| B2B 고객사가 자사 IdP로 직원 인증 | **Enterprise SSO** |
| 외부 일반 사용자 간편 가입 | **Social Login** |

---

## 핵심 정리

<CardGroup cols={2}>
  <Card title="Universal Login = Hosted Login" icon="desktop">
    Auth0가 호스팅하는 로그인 페이지입니다. **권장 방식**입니다.
  </Card>
  <Card title="Embedded Login = 앱 내장" icon="code">
    자체 로그인 UI를 구현하는 방식입니다. **비권장**입니다.
  </Card>
  <Card title="SSO는 도메인과 무관" icon="link">
    도메인이 같든 다르든, **내 앱들끼리**면 일반 SSO를 사용합니다.
  </Card>
  <Card title="외부 연동은 별도" icon="users">
    **Enterprise SSO, Social Login**은 외부 조직/사용자와 연동할 때 사용합니다.
  </Card>
</CardGroup>

<Note>
**요약**

- 내 앱들끼리 → **일반 SSO** (Auth0가 중앙 세션 관리)
- 외부 기업 고객 → **Enterprise SSO** (고객사 IdP 연동)
- 외부 일반 사용자 → **Social Login** (간편 가입)
</Note>
